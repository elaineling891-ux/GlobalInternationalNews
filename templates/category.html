{% extends "base.html" %}

{% block content %}
<h1>{{ category }} 新闻 - 第 {{ current_page }} 页</h1>

<div class="news-grid">
    {% for news in news_list %}
    <div class="news-card">
        {% if news.image_url %}
        <a href="/news/{{ news.id }}" class="news-thumb-link">
            <img src="{{ news.image_url }}" alt="{{ news.title }}" class="news-thumb">
        </a>
        {% endif %}
        <div class="news-info">
            <a href="/news/{{ news.id }}" class="news-title">{{ news.title }}</a>
            <span class="date">{{ news.created_at.strftime('%Y-%m-%d') }}</span>
        </div>
    </div>
    {% endfor %}
</div>

<div class="pagination">
    {% if current_page > 1 %}
    <a href="/category/{{ category }}?page={{ current_page - 1 }}">上一页</a>
    {% endif %}
    <span>第 {{ current_page }} 页</span>
    {% if news_list|length == per_page %}
    <a href="/category/{{ category }}?page={{ current_page + 1 }}">下一页</a>
    {% endif %}
</div>
{% endblock %}
